<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>O interpretador Jython &mdash; LivroPython v1.0 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/_static/jsMath/easy/load.js"></script>
    <link rel="top" title="LivroPython v1.0 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice Geral"
             accesskey="I">índice</a></li>
        <li><a href="../index.html">LivroPython v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <p>{Jython: A python que sabia Javanês} {P} {eço} licença ao mestre
Lima Barreto, para parodiar o título do seu excelente conto, pois
não pude resistir à analogia. A linguagem Python, conforme
descobrimos ao longo deste livro, é extremamente versátil, e deve
esta versatilidade, em parte, à sua biblioteca padrão. Entretanto
existe uma outra linguagem que excede em muito o Python (ao menos
atualmente) na quantidade de módulos disponíveis para os mais
variados fins: o Java.</p>
<p>A linguagem Java tem contra si uma série de fatores: A complexidade
de sua sintaxe rivaliza com a do C++, é uma linguagem proprietária,
e não é eficiente como esperaríamos que uma linguagem compilada,
com tipagem estática fosse. Mas todos estes aspectos negativos não
são suficientes para anular as vantagens da sua grande biblioteca e
da sua portabilidade.</p>
<p>Como poderíamos capturar o que o java tem de bom sem levar como
&#8220;brinde&#8221; seus aspectos negativos? É aqui que entra o Jython.</p>
<p>O Jython é uma implementação completa do Python 2.1 <a class="footnote-reference" href="#id16" id="id1">[1]</a> em Java.
Com o Jython programadores Java podem embutir o python em seus
aplicativos e applets e nós, programadores Python podemos utilizar
misturar livremente toda (ou quase toda) a biblioteca padrão do
Python com classes em Java. Além destas vantagens, O Jython também
é uma linguagem Open Source.</p>
<div class="section" id="o-interpretador-jython">
<h1>O interpretador Jython<a class="headerlink" href="#o-interpretador-jython" title="Link permanente para este título">¶</a></h1>
<p>Para iniciar nossa aventura com o Jython, precisaremos instalá-lo,
e precisamos ter instalada uma máquina virtual Java (ou JVM) versão
1.4 ou mais recente.</p>
<p>Vamos tentar usá-lo como usaríamos o interpretador python e ver se
notamos alguma diferença.</p>
<blockquote>
:math:<a href="#id2"><span class="problematic" id="id3">`</span></a>$ jython</blockquote>
<p>Jython 2.1 on java1.4.2-01 (JIT: null)
Type &#8220;copyright&#8221;, &#8220;credits&#8221; or &#8220;license&#8221; for more information.
&gt;&gt;&gt; print &#8216;hello world&#8217;
hello world
&gt;&gt;&gt; import math()
&gt;&gt;&gt; dir(math)
[&#8216;acos&#8217;, &#8216;asin&#8217;, &#8216;atan&#8217;, &#8216;atan2&#8217;, &#8216;ceil&#8217;, &#8216;classDictInit&#8217;, &#8216;cos&#8217;, &#8216;cosh&#8217;, &#8216;e&#8217;, &#8216;exp&#8217;, &#8216;fabs&#8217;, &#8216;floor&#8217;, &#8216;fmod&#8217;, &#8216;frexp&#8217;, &#8216;hypot&#8217;, &#8216;ldexp&#8217;, &#8216;log&#8217;, &#8216;log10&#8217;, &#8216;modf&#8217;, &#8216;pi&#8217;, &#8216;pow&#8217;, &#8216;sin&#8217;, &#8216;sinh&#8217;, &#8216;sqrt&#8217;, &#8216;tan&#8217;, &#8216;tanh&#8217;]
&gt;&gt;&gt; math.pi
3.141592653589793
end{lstlisting}</p>
<p>Até agora tudo parece funcionar muito bem. Vamos tentar um exemplo um pouco mais avançado e ver de que forma o Jython pode simplificar um programa em java.
begin{lstlisting}[language=Java,frame=trBL, caption=Um programa simples em Java usando a classe Swing. ,label=lst:Swing-java]
import javax.swing.JOptionPane;
class testDialog {</p>
<blockquote>
<dl class="docutils">
<dt>public static void main ( String[] args ) {</dt>
<dd>javax.swing.JOptionPane.showMessageDialog ( null, &#8220;Isto e um teste.&#8221; );</dd>
</dl>
<p>}</p>
</blockquote>
<p>}
end{lstlisting}</p>
<p>A versão apresentada na listagem ref{lst:Swing-java} está escrita em Java. Vamo ver como ficaria a versão em Jython.
begin{lstlisting}[frame=trBL, caption=O mesmo programa da listagem ref{lst:Swing-java} em Jython.,label=lst:Swing-jython]
&gt;&gt;&gt; import javax.swing.JOptionPane
&gt;&gt;&gt; javax.swing.JOptionPane.showMessageDialog(None,&#8221;Isto e um teste.&#8221;)
end{lstlisting}</p>
<p>Podemos observar na listagem ref{lst:Swing-jython} que eliminamos a verborragia característica do Java, e o programa em Jython ficou bem mais &#8220;pitônico&#8221;. Outro detalhe que vale a pena comentar, é que não precisamos compilar o código em Jython, com seria necessário com o Java. Só isto já é uma grande vantagem do Jython. Em suma, utilizado-se o Jython ao invés do Java ganha-se em produtividade duas vezes: Uma ao escrever menos linhas de código e outra, ao não ter que recompilar o programa a cada vez que se introduz uma pequena modificação.</p>
<p>Para não deixar os leitores curiosos acerca da finalidade do código apresentado na listagem ref{lst:Swing-jython}, Seu resultado encontra-se na figura ref{fig:Swing-jython}.</p>
<dl class="docutils">
<dt>begin{figure}</dt>
<dd>centering
includegraphics[bb=0 0 269 127]{jyswing.eps}</dd>
<dt>% jyswing.jpg: 72dpi, width=9.49cm, height=4.48cm, bb=0 0 269 127</dt>
<dd>caption{Saída da listagem ref{lst:Swing-jython}.}
label{fig:Swing-jython}</dd>
</dl>
<p>end{figure}</p>
<p>section{Criando <a href="#id4"><span class="problematic" id="id5">``</span></a>Applets&#8221; em Jython}
Para os conhecedores de Java, o Jython pode ser utilizado para criar <a href="#id6"><span class="problematic" id="id7">``</span></a>servlets&#8221;, <a href="#id8"><span class="problematic" id="id9">``</span></a>beans&#8221; e <a href="#id10"><span class="problematic" id="id11">``</span></a>applets&#8221; com a mesma facilidade com que criamos um aplicativo em Jython. Vamos ver um exemplo de <a href="#id12"><span class="problematic" id="id13">``</span></a>applet&#8221;(listagem ref{lst:applet-jython}).
begin{lstlisting}[frame=trBL, caption=Criando um applet em Jython ,label=lst:applet-jython]
import java.applet.Applet;
class appletp ( java.applet.Applet ):</p>
<blockquote>
<dl class="docutils">
<dt>def paint ( self, g ):</dt>
<dd>g.drawString ( &#8220;Eu sou um Applet Jython!&#8221;, 5, 5 )</dd>
</dl>
</blockquote>
<p>end{lstlisting}</p>
<p>Para quem não conhece Java, um applet é um mini aplicativo feito para ser executado dentro de um Navegador (Mozilla, Opera etc.) que disponha de um <a href="#id14"><span class="problematic" id="id15">``</span></a>plug-in&#8221; para executar código em Java. Portanto, Desta vez precisaremos compilar o código da listagem ref{lst:applet-jython} para que a máquina virtual Java possa executá-lo. Para isso, salvamos o código  utilizaremos o compilador do Jython, texttt{jythonc}.
begin{lstlisting}[language= Ksh,frame=trBL, caption= Compilando appletp.py ,label=lst:jythonc]
$`</p>
<blockquote>
<p>jythonc -deep -core -j appletp.jar appletp.py processing appletp</p>
<p>Required packages: java.applet</p>
<p>Creating adapters:</p>
<p>Creating .java files: appletp module appletp extends
java.applet.Applet</p>
<p>Compiling .java to .class... Compiling with args:
[&#8216;/opt/blackdown-jdk-1.4.2.01/bin/javac&#8217;, &#8216;-classpath&#8217;,
&#8216;/usr/share/jython/lib/jython-2.1.jar:/usr/share/libreadline-java/lib/libreadline-java.jar:.:./jpywork::/usr/share/jython/tools/jythonc:/home/fccoelho/Documents/LivroPython/.:/usr/share/jython/Lib&#8217;,
&#8216;./jpywork/appletp.java&#8217;] 0 Note: ./jpywork/appletp.java uses or
overrides a deprecated API. Note: Recompile with -deprecation for
details.</p>
<p>Building archive: appletp.jar Tracking java dependencies:</p>
</blockquote>
<p>Uma vez compilado nosso applet, precisamos precisamos embuti-lo&#8221; em
um documento HTML (listagem lst:htmlapp. Então basta apontar nosso
navegador para este documento e veremos o applet ser executado.</p>
<blockquote>
html head meta content=&#8221;text/html; charset=ISO-8859-1&#8221;
http-equiv=&#8221;content-type&#8221; titlejython applet/title /head body Este
eacute; o seu applet em Jython:br br br center applet
code=&#8221;appletp&#8221; archive=&#8221;appletp.jar&#8221; name=&#8221;Applet em Jython&#8221;
alt=&#8221;This browser doesn&#8217;t support JDK 1.1 applets.&#8221; align=&#8221;bottom&#8221;
height=&#8221;50&#8221; width=&#8221;160&#8221; PARAM NAME=&#8221;codebase&#8221; VALUE=&#8221;.&#8221; h3Algo saiu
errado ao carregar este applet./h3 /applet /center br br /body
/html</blockquote>
<p>Na compilação, o código em Jython é convertido completamente em
código Java e então compilado através do compilador Java padrão.</p>
<table class="docutils footnote" frame="void" id="id16" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Ao final de 2005 está prometida compatibilidade com o Python 2.3</td></tr>
</tbody>
</table>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3>Esta Página</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/stuff/jython.txt"
                     rel="nofollow">Exibir Fonte</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Pesquisa rápida</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Ir" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Informe os termos para pesquisa ou um módulo, classe ou nome de função.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navegação</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice Geral"
             >índice</a></li>
        <li><a href="../index.html">LivroPython v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Flávio Codeço Coelho.
      Criado com <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>